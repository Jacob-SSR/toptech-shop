import e from"node:process";globalThis._importMeta_=globalThis._importMeta_||{url:"file:///_entry.js",env:e.env};import{hasInjectionContext as t,inject as o,getCurrentInstance as n,defineAsyncComponent as a,defineComponent as r,h as s,computed as i,unref as u,shallowRef as l,provide as c,shallowReactive as p,ref as d,Suspense as f,Fragment as m,createApp as h,toRef as g,onErrorCaptured as y,onServerPrefetch as v,createVNode as x,resolveDynamicComponent as w,reactive as b,effectScope as _,isReadonly as k,isRef as C,isShallow as R,isReactive as P,toRaw as j,mergeProps as N,getCurrentScope as S,withCtx as A,nextTick as O,useSSRContext as E}from"file://D:/workshop/FullStack/toptech_shop/node_modules/vue/index.mjs";import{m as H,n as T,i as M,w as $,s as W,o as B,$ as L,q as F,v as D,x as U,c as q,y as G,z as K,A as z,B as I}from"../_/nitro.mjs";import{b as J}from"../routes/renderer.mjs";import{useRoute as X,RouterView as Y,createMemoryHistory as Z,createRouter as Q,START_LOCATION as V}from"file://D:/workshop/FullStack/toptech_shop/node_modules/vue-router/vue-router.node.mjs";import{createServerClient as ee,parseCookieHeader as te}from"file://D:/workshop/FullStack/toptech_shop/node_modules/@supabase/ssr/dist/main/index.js";import{ssrRenderSuspense as oe,ssrRenderComponent as ne,ssrRenderVNode as ae}from"file://D:/workshop/FullStack/toptech_shop/node_modules/vue/server-renderer/index.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"file://D:/workshop/FullStack/toptech_shop/node_modules/vue-bundle-renderer/dist/runtime.mjs";import"file://D:/workshop/FullStack/toptech_shop/node_modules/unhead/dist/server.mjs";import"file://D:/workshop/FullStack/toptech_shop/node_modules/devalue/index.js";import"file://D:/workshop/FullStack/toptech_shop/node_modules/unhead/dist/utils.mjs";globalThis.$fetch||(globalThis.$fetch=L.create({baseURL:J()})),"global"in globalThis||(globalThis.global=globalThis);const re={componentName:"NuxtLink"},se="nuxt-app";function getNuxtAppCtx(e=se){return B(e,{asyncContext:!1})}const ie="__nuxt_plugin";function registerPluginHooks(e,t){t.hooks&&e.hooks.addHooks(t.hooks)}function defineNuxtPlugin(e){if("function"==typeof e)return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[ie]:!0,_name:t})}function callWithNuxt(e,t,o){const fn=()=>t(),n=getNuxtAppCtx(e._id);return e.vueApp.runWithContext(()=>n.callAsync(e,fn))}function useNuxtApp(e){const o=function(e){let o;return t()&&(o=n()?.appContext.app.$nuxt),o||=getNuxtAppCtx(e).tryUse(),o||null}(e);if(!o)throw new Error("[nuxt] instance unavailable");return o}function useRuntimeConfig(e){return useNuxtApp().$config}function defineGetter(e,t,o){Object.defineProperty(e,t,{get:()=>o})}const ue=Symbol("layout-meta"),le=Symbol("route");globalThis._importMeta_.url.replace(/\/app\/.*$/,"/");const useRouter=()=>useNuxtApp()?.$router,useRoute=()=>t()?o(le,useNuxtApp()._route):useNuxtApp()._route;function defineNuxtRouteMiddleware(e){return e}const ce=/"/g,navigateTo=(e,t)=>{e||="/";const o="string"==typeof e?e:"path"in e?resolveRouteObject(e):useRouter().resolve(e).href,n=H(o,{acceptRelative:!0}),a=t?.external||n;if(a){if(!t?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:e}=new URL(o,"http://localhost");if(e&&T(e))throw new Error(`Cannot navigate to a URL with '${e}' protocol.`)}const r=(()=>{try{if(useNuxtApp()._processingMiddleware)return!0}catch{return!1}return!1})(),s=useRouter(),i=useNuxtApp();if(i.ssrContext){const u="string"==typeof e||a?o:s.resolve(e).fullPath||"/",l=a?o:M(useRuntimeConfig().app.baseURL,u),redirect=async function(e){await i.callHook("app:redirected");const o=l.replace(ce,"%22"),a=function(e,t=!1){const o=new URL(e,"http://localhost");if(!t)return o.pathname+o.search+o.hash;if(e.startsWith("//"))return o.toString().replace(o.protocol,"");return o.toString()}(l,n);return i.ssrContext._renderResponse={statusCode:W(t?.redirectCode||302,302),body:`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${o}"></head></html>`,headers:{location:a}},e};return!a&&r?(s.afterEach(e=>e.fullPath===u?redirect(!1):void 0),e):redirect(!r&&void 0)}return a?(i._scope.stop(),t?.replace?(void 0).replace(o):(void 0).href=o,r?!!i.isHydrating&&new Promise(()=>{}):Promise.resolve()):t?.replace?s.replace(e):s.push(e)};function resolveRouteObject(e){return $(e.path||"",e.query||{})+(e.hash||"")}const pe="__nuxt_error",useError=()=>g(useNuxtApp().payload,"error"),showError=e=>{const t=createError(e);try{const e=useError();0,e.value||=t}catch{throw t}return t},isNuxtError=e=>!!e&&"object"==typeof e&&pe in e,createError=e=>{const t=q(e);return Object.defineProperty(t,pe,{value:!0,configurable:!1,writable:!1}),t},de=defineNuxtPlugin({name:"nuxt:head",enforce:"pre",setup(e){const t=e.ssrContext.head;e.vueApp.use(t)}});function toArray(e){return Array.isArray(e)?e:[e]}const fe=[{name:"index",path:"/",component:()=>import("./index-DFiLc7SY.mjs")},{name:"admin-add",path:"/admin/add",meta:{layout:"admin"}||{},component:()=>import("./add-BOjU8jsR.mjs")},{name:"admin-list",path:"/admin/list",meta:{layout:"admin"}||{},component:()=>import("./list-C9yZ_UP8.mjs")},{name:"admin",path:"/admin",component:()=>import("./index-BjqTWahr.mjs")},{name:"admin-login",path:"/admin/login",component:()=>import("./login-B03ajMUC.mjs")},{name:"admin-edit-id",path:"/admin/edit/:id()",meta:{layout:"admin"}||{},component:()=>import("./_id_-x32YcWAn.mjs")},{name:"product-brand-id",path:"/product/:brand()/:id()",component:()=>import("./_id_-B_SEPdBj.mjs")},{name:"product-brand-brand",path:"/product/brand/:brand()",component:()=>import("./_brand_-DXlagrGI.mjs")},{name:"product-condition-new",path:"/product/condition/new",component:()=>import("./new-D3N77SRR.mjs")},{name:"product-condition-used",path:"/product/condition/used",component:()=>import("./used-ZbG-7r5x.mjs")},{name:"product-category-category",path:"/product/category/:category()",component:()=>import("./_category_-B-E7VQHq.mjs")}],me=/(:\w+)\([^)]+\)/g,he=/(:\w+)[?+*]/g,ge=/:\w+/g;function generateRouteKey(e){const t=e?.meta.key??e.path.replace(me,"$1").replace(he,"$1").replace(ge,t=>e.params[t.slice(1)]?.toString()||"");return"function"==typeof t?t(e):t}function _getHashElementScrollMarginTop(e){try{const t=(void 0).querySelector(e);if(t)return(Number.parseFloat(getComputedStyle(t).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle((void 0).documentElement).scrollPaddingTop)||0)}catch{}return 0}function _calculatePosition(e,t,o,n){if(o)return o;const a=function(e,t){return e!==t&&t!==V&&(generateRouteKey(e)!==generateRouteKey(t)||!e.matched.every((e,o)=>e.components&&e.components.default===t.matched[o]?.components?.default))}(e,t);return e.hash?{el:e.hash,top:_getHashElementScrollMarginTop(e.hash),behavior:a?n:"instant"}:{left:0,top:0}}const ye={hashMode:!1,scrollBehaviorType:"auto",...{scrollBehavior(e,t,o){const n=useNuxtApp(),a=useRouter().options?.scrollBehaviorType??"auto";if(e.path.replace(/\/$/,"")===t.path.replace(/\/$/,""))return t.hash&&!e.hash?{left:0,top:0}:!!e.hash&&{el:e.hash,top:_getHashElementScrollMarginTop(e.hash),behavior:a};if(!1===("function"==typeof e.meta.scrollToTop?e.meta.scrollToTop(e,t):e.meta.scrollToTop))return!1;const r=n._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(s=>{t!==V?n.hooks.hookOnce(r,()=>{requestAnimationFrame(()=>s(_calculatePosition(e,t,o,a)))}):s(_calculatePosition(e,t,o,a))})}}},useSupabaseClient=()=>useNuxtApp().$supabase.client,ve=[defineNuxtRouteMiddleware(async(e,t)=>{let o,n;if(!e.meta?.validate)return;const a=([o,n]=D(()=>Promise.resolve(e.meta.validate(e))),o=await o,n(),o);if(!0===a)return;return createError({fatal:!1,statusCode:a&&a.statusCode||404,statusMessage:a&&a.statusMessage||`Page Not Found: ${e.fullPath}`,data:{path:e.fullPath}})}),defineNuxtRouteMiddleware(async e=>{let t,o;const n=useSupabaseClient(),{data:{session:a}}=([t,o]=D(()=>n.auth.getSession()),t=await t,o(),t),r=a?.user;return!r&&e.path.startsWith("/admin")&&"/admin/login"!==e.path?navigateTo("/admin/login"):r&&"/admin/login"===e.path?navigateTo("/admin/list"):void 0}),defineNuxtRouteMiddleware(async e=>{})],xe={};async function fetchWithRetry(e,t){for(let o=1;o<=3;o++)try{return await fetch(e,t)}catch(n){if(t?.signal?.aborted)throw n;if(3===o)throw console.error(`Error fetching request ${e}`,n,t),n;console.warn(`Retrying fetch attempt ${o+1} for request: ${e}`),await new Promise(e=>setTimeout(e,100*o))}throw new Error("Unreachable code")}function setCookies(e,t){const o=e.node.res,headersWritable=()=>!o.headersSent&&!o.writableEnded;if(headersWritable())for(const{name:o,value:n,options:a}of t){if(!headersWritable())break;I(e,o,n,a)}}const serverSupabaseClient=async e=>{if(!e.context._supabaseClient){const{url:t,key:o,cookiePrefix:n,cookieOptions:a,clientOptions:{auth:r={},global:s={}}}=useRuntimeConfig().public.supabase;e.context._supabaseClient=ee(t,o,{auth:r,cookies:{getAll:()=>te(U(e,"Cookie")??""),setAll:t=>setCookies(e,t)},cookieOptions:{...a,name:n},global:{fetch:fetchWithRetry,...s}})}return e.context._supabaseClient},serverSupabaseUser=async e=>{const t=await serverSupabaseClient(e),{data:o,error:n}=await t.auth.getClaims();if(n)throw q({statusMessage:n?.message});return o?.claims??null},serverSupabaseSession=async e=>{const t=await serverSupabaseClient(e),{data:{session:o},error:n}=await t.auth.getSession();if(n)throw q({statusMessage:n?.message});return delete o?.user,o};function useState(...e){const t="string"==typeof e[e.length-1]?e.pop():void 0;"string"!=typeof e[0]&&e.unshift(t);const[o,n]=e;if(!o||"string"!=typeof o)throw new TypeError("[nuxt] [useState] key must be a string: "+o);if(void 0!==n&&"function"!=typeof n)throw new Error("[nuxt] [useState] init must be a function: "+n);const a="$s"+o,r=useNuxtApp(),s=g(r.payload.state,a);if(void 0===s.value&&n){const e=n();if(C(e))return r.payload.state[a]=e,e;s.value=e}return s}function definePayloadReducer(e,t){useNuxtApp().ssrContext._payloadReducers[e]=t}const we=[["NuxtError",e=>isNuxtError(e)&&e.toJSON()],["EmptyShallowRef",e=>C(e)&&R(e)&&!e.value&&("bigint"==typeof e.value?"0n":JSON.stringify(e.value)||"_")],["EmptyRef",e=>C(e)&&!e.value&&("bigint"==typeof e.value?"0n":JSON.stringify(e.value)||"_")],["ShallowRef",e=>C(e)&&R(e)&&e.value],["ShallowReactive",e=>P(e)&&R(e)&&j(e)],["Ref",e=>C(e)&&e.value],["Reactive",e=>P(e)&&j(e)]],be=[de,defineNuxtPlugin({name:"nuxt:router",enforce:"pre",async setup(e){let t,o,n=useRuntimeConfig().app.baseURL;const a=ye.history?.(n)??Z(n),r=ye.routes?([t,o]=D(()=>ye.routes(fe)),t=await t,o(),t??fe):fe;let s;const i=Q({...ye,scrollBehavior:(e,t,o)=>{if(t!==V){if(ye.scrollBehavior){if(i.options.scrollBehavior=ye.scrollBehavior,"scrollRestoration"in(void 0).history){const e=i.beforeEach(()=>{e(),(void 0).history.scrollRestoration="manual"})}return ye.scrollBehavior(e,V,s||o)}}else s=o},history:a,routes:r});e.vueApp.use(i);const u=l(i.currentRoute.value);i.afterEach((e,t)=>{u.value=t}),Object.defineProperty(e.vueApp.config.globalProperties,"previousRoute",{get:()=>u.value});const c=e.ssrContext.url,d=l(i.currentRoute.value),syncCurrentRoute=()=>{d.value=i.currentRoute.value};e.hook("page:finish",syncCurrentRoute),i.afterEach((e,t)=>{e.matched[e.matched.length-1]?.components?.default===t.matched[t.matched.length-1]?.components?.default&&syncCurrentRoute()});const f={};for(const e in d.value)Object.defineProperty(f,e,{get:()=>d.value[e],enumerable:!0});e._route=p(f),e._middleware||={global:[],named:{}},e.ssrContext?.islandContext||i.afterEach(async(t,o,n)=>{delete e._processingMiddleware,n&&await e.callHook("page:loading:end"),4!==n?.type&&t.redirectedFrom&&t.fullPath!==c&&await e.runWithContext(()=>navigateTo(t.fullPath||"/"))});try{[t,o]=D(()=>i.push(c)),await t,o(),[t,o]=D(()=>i.isReady()),await t,o()}catch(n){[t,o]=D(()=>e.runWithContext(()=>showError(n))),await t,o()}const m=i.currentRoute.value;if(syncCurrentRoute(),e.ssrContext?.islandContext)return{provide:{router:i}};const h=e.payload.state._layout;return i.beforeEach(async(t,o)=>{if(await e.callHook("page:loading:start"),t.meta=b(t.meta),e.isHydrating&&h&&!k(t.meta.layout)&&(t.meta.layout=h),e._processingMiddleware=!0,!e.ssrContext?.islandContext){const n=new Set([...ve,...e._middleware.global]);for(const e of t.matched){const t=e.meta.middleware;if(t)for(const e of toArray(t))n.add(e)}{const o=await e.runWithContext(()=>async function(e){const t="string"==typeof e?e:e.path;{useNuxtApp().ssrContext._preloadManifest=!0;const e=G(K({routes:useRuntimeConfig().nitro.routeRules}));return z({},...e.matchAll(t).reverse())}}({path:t.path}));if(o.appMiddleware)for(const e in o.appMiddleware)o.appMiddleware[e]?n.add(e):n.delete(e)}for(const a of n){const n="string"==typeof a?e._middleware.named[a]||await(xe[a]?.().then(e=>e.default||e)):a;if(!n)throw new Error(`Unknown route middleware: '${a}'.`);try{0;const a=await e.runWithContext(()=>n(t,o));if(!1===a||a instanceof Error){const t=a||createError({statusCode:404,statusMessage:`Page Not Found: ${c}`});return await e.runWithContext(()=>showError(t)),!1}if(!0===a)continue;if(!1===a)return a;if(a)return isNuxtError(a)&&a.fatal&&await e.runWithContext(()=>showError(a)),a}catch(t){const o=createError(t);return o.fatal&&await e.runWithContext(()=>showError(o)),o}}}}),i.onError(async()=>{delete e._processingMiddleware,await e.callHook("page:loading:end")}),i.afterEach(t=>{if(0===t.matched.length)return e.runWithContext(()=>showError(createError({statusCode:404,fatal:!1,statusMessage:`Page not found: ${t.fullPath}`,data:{path:t.fullPath}})))}),e.hooks.hookOnce("app:created",async()=>{try{"name"in m&&(m.name=void 0),await i.replace({...m,force:!0}),i.options.scrollBehavior=ye.scrollBehavior}catch(t){await e.runWithContext(()=>showError(t))}}),{provide:{router:i}}}}),defineNuxtPlugin({name:"supabase",enforce:"pre",async setup({provide:e}){let t,o;const{url:n,key:a,cookiePrefix:r,useSsrCookies:s,cookieOptions:i,clientOptions:u}=useRuntimeConfig().public.supabase,l=(c||=useNuxtApp(),c.ssrContext?.event);var c;if(e("supabase",{client:ee(n,a,{...u,cookies:{getAll:()=>te(U(l,"Cookie")??""),setAll:e=>setCookies(l,e)},cookieOptions:{...i,name:r},global:{fetch:fetchWithRetry,...u.global}})}),s){const[e,n]=([t,o]=D(()=>Promise.all([serverSupabaseSession(l).catch(()=>null),serverSupabaseUser(l).catch(()=>null)])),t=await t,o(),t);useState("supabase_session",()=>null).value=e,useState("supabase_user",()=>null).value=n}}}),defineNuxtPlugin({name:"nuxt:revive-payload:server",setup(){for(const[e,t]of we)definePayloadReducer(e,t)}}),defineNuxtPlugin({name:"nuxt:global-components"})],_e={admin:a(()=>import("./admin-DzqvEZcL.mjs").then(e=>e.default||e))},ke=r({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup:(e,t)=>()=>s(_e[e.name],e.layoutProps,t.slots)}),Ce={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},Re=r({name:"NuxtLayout",inheritAttrs:!1,props:Ce,setup(e,t){const n=useNuxtApp(),a=o(le),r=!a||a===useRoute()?X():a,c=i(()=>{let t=u(e.name)??r?.meta.layout??"default";return t&&!(t in _e)&&e.fallback&&(t=u(e.fallback)),t}),p=l();t.expose({layoutRef:p});const d=n.deferHydration();let m;return()=>{c.value&&c.value;const o=r?.meta.layoutTransition??false,n=m;return m=c.value,(a={default:()=>s(f,{suspensible:!0,onResolve:()=>{O(d)}},{default:()=>s(Pe,{layoutProps:N(t.attrs,{ref:p}),key:c.value||void 0,name:c.value,shouldProvide:!e.name,isRenderingNewLayout:e=>e!==n&&e===c.value,hasTransition:!!o},t.slots)})},{default:()=>a.default?.()}).default();var a}}}),Pe=r({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(e,t){const n=e.name;e.shouldProvide&&c(ue,{isCurrent:e=>n===(e.meta.layout??"default")});const a=o(le);if(a&&a===useRoute()){const t=X(),o={};for(const n in t){const r=n;Object.defineProperty(o,r,{enumerable:!0,get:()=>e.isRenderingNewLayout(e.name)?t[r]:a[r]})}c(le,p(o))}return()=>!n||"string"==typeof n&&!(n in _e)?t.slots.default?.():s(ke,{key:n,layoutProps:e.layoutProps,name:n},t.slots)}}),je=((e="RouteProvider")=>r({name:e,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const t=e.renderKey,o=e.route,n={};for(const a in e.route)Object.defineProperty(n,a,{get:()=>t===e.renderKey?e.route[a]:o[a],enumerable:!0});return c(le,p(n)),()=>e.vnode?s(e.vnode,{ref:e.vnodeRef}):e.vnode}}))(),Ne=r({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:t,slots:n,expose:a}){const r=useNuxtApp(),i=d();return o(le,null),a({pageRef:i}),o(ue,null),r.deferHydration(),()=>s(Y,{name:e.name,route:e.route,...t},{default:e=>s(f,{suspensible:!0},{default:()=>s(je,{vnode:n.default?normalizeSlot(n.default,e):e.Component,route:e.route,vnodeRef:i})})})}});function normalizeSlot(e,t){const o=e(t);return 1===o.length?s(o[0]):s(m,void 0,o)}const _export_sfc=(e,t)=>{const o=e.__vccOpts||e;for(const[e,n]of t)o[e]=n;return o},Se={};const Ae=Se.setup;Se.setup=(e,t)=>{const o=E();return(o.modules||(o.modules=new Set)).add("app.vue"),Ae?Ae(e,t):void 0};const Oe=_export_sfc(Se,[["ssrRender",function(e,t,o,n){const a=Ne;t(ne(Re,n,{default:A((e,t,o,n)=>{if(!t)return[x(a)];t(ne(a,null,null,o,n))}),_:1},o))}]]),Ee={__name:"nuxt-error-page",__ssrInlineRender:!0,props:{error:Object},setup(e){const t=e.error;t.stack&&t.stack.split("\n").splice(1).map(e=>({text:e.replace("webpack:/","").replace(".vue",".js").trim(),internal:e.includes("node_modules")&&!e.includes(".cache")||e.includes("internal")||e.includes("new Promise")})).map(e=>`<span class="stack${e.internal?" internal":""}">${e.text}</span>`).join("\n");const o=Number(t.statusCode||500),n=404===o,r=t.statusMessage??(n?"Page Not Found":"Internal Server Error"),s=t.message||t.toString(),i=a(()=>import("./error-404-BLqHX0At.mjs")),l=a(()=>import("./error-500-DA0L5X_Q.mjs")),c=n?i:l;return(e,t,n,a)=>{t(ne(u(c),N({statusCode:u(o),statusMessage:u(r),description:u(s),stack:u(undefined)},a),null,n))}}},He=Ee.setup;Ee.setup=(e,t)=>{const o=E();return(o.modules||(o.modules=new Set)).add("../node_modules/nuxt/dist/app/components/nuxt-error-page.vue"),He?He(e,t):void 0};const Te={__name:"nuxt-root",__ssrInlineRender:!0,setup(e){const IslandRenderer=()=>null,t=useNuxtApp();t.deferHydration(),t.ssrContext.url;const o=!1;c(le,useRoute()),t.hooks.callHookWith(e=>e.map(e=>e()),"vue:setup");const n=useError(),a=n.value&&!t.ssrContext.error;y((e,o,n)=>{t.hooks.callHook("vue:error",e,o,n).catch(e=>console.error("[nuxt] Error in `vue:error` hook",e));{const o=t.runWithContext(()=>showError(e));return v(()=>o),!1}});const r=t.ssrContext.islandContext;return(e,t,s,i)=>{oe(t,{default:()=>{u(a)?t("<div></div>"):u(n)?t(ne(u(Ee),{error:u(n)},null,s)):u(r)?t(ne(u(IslandRenderer),{context:u(r)},null,s)):u(o)?ae(t,x(w(u(o)),null,null),s):t(ne(u(Oe),null,null,s))},_:1})}}},Me=Te.setup;let $e;Te.setup=(e,t)=>{const o=E();return(o.modules||(o.modules=new Set)).add("../node_modules/nuxt/dist/app/components/nuxt-root.vue"),Me?Me(e,t):void 0},$e=async function(e){const t=h(Te),o=function(e){let t=0;const o={_id:e.id||se||"nuxt-app",_scope:_(),provide:void 0,versions:{get nuxt(){return"4.1.3"},get vue(){return o.vueApp.version}},payload:p({...e.ssrContext?.payload||{},data:p({}),state:b({}),once:new Set,_errors:p({})}),static:{data:{}},runWithContext:e=>o._scope.active&&!S()?o._scope.run(()=>callWithNuxt(o,e)):callWithNuxt(o,e),isHydrating:!1,deferHydration(){if(!o.isHydrating)return()=>{};t++;let e=!1;return()=>{if(!e)return e=!0,t--,0===t?(o.isHydrating=!1,o.callHook("app:suspense:resolve")):void 0}},_asyncDataPromises:{},_asyncData:p({}),_payloadRevivers:{},...e};o.payload.serverRendered=!0,o.ssrContext&&(o.payload.path=o.ssrContext.url,o.ssrContext.nuxt=o,o.ssrContext.payload=o.payload,o.ssrContext.config={public:o.ssrContext.runtimeConfig.public,app:o.ssrContext.runtimeConfig.app}),o.hooks=F(),o.hook=o.hooks.hook;{const contextCaller=async function(e,t){for(const n of e)await o.runWithContext(()=>n(...t))};o.hooks.callHook=(e,...t)=>o.hooks.callHookWith(contextCaller,e,...t)}o.callHook=o.hooks.callHook,o.provide=(e,t)=>{const n="$"+e;defineGetter(o,n,t),defineGetter(o.vueApp.config.globalProperties,n,t)},defineGetter(o.vueApp,"$nuxt",o),defineGetter(o.vueApp.config.globalProperties,"$nuxt",o);const n=e.ssrContext.runtimeConfig;return o.provide("config",n),o}({vueApp:t,ssrContext:e});try{await async function(e,t){const o=new Set,n=[],a=[];let r,s=0;async function executePlugin(i){const u=i.dependsOn?.filter(e=>t.some(t=>t._name===e)&&!o.has(e))??[];if(u.length>0)n.push([new Set(u),i]);else{const t=async function(e,t){if("function"==typeof t){const{provide:o}=await e.runWithContext(()=>t(e))||{};if(o&&"object"==typeof o)for(const t in o)e.provide(t,o[t])}}(e,i).then(async()=>{i._name&&(o.add(i._name),await Promise.all(n.map(async([e,t])=>{e.has(i._name)&&(e.delete(i._name),0===e.size&&(s++,await executePlugin(t)))})))}).catch(t=>{if(!i.parallel&&!e.payload.error)throw t;r||=t});i.parallel?a.push(t):await t}}for(const o of t)e.ssrContext?.islandContext&&!1===o.env?.islands||registerPluginHooks(e,o);for(const o of t)e.ssrContext?.islandContext&&!1===o.env?.islands||await executePlugin(o);if(await Promise.all(a),s)for(let e=0;e<s;e++)await Promise.all(a);if(r)throw e.payload.error||r}(o,be),await o.hooks.callHook("app:created",t)}catch(e){await o.hooks.callHook("app:error",e),o.payload.error||=createError(e)}if(e?._renderResponse)throw new Error("skipping render");return t};const entry$1=e=>$e(e);export{_export_sfc as _,useSupabaseClient as a,useRoute as b,useRouter as c,useRuntimeConfig as d,entry$1 as default,re as e,navigateTo as n,resolveRouteObject as r,useNuxtApp as u};
//# sourceMappingURL=server.mjs.map
