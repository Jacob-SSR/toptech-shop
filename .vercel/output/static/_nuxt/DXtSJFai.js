import{M as w,g as c,I as _,c as d,o as r,a as o,N as h,b as l,q as f,s as i,w as u,G as m,d as g,r as v,j as y,O as k,l as $,T as C,P as S}from"./Caa50KgB.js";import{S as x}from"./NNS-RXd7.js";import{_ as A}from"./DdFCrXIR.js";const N=w("/logo.png"),L={class:"h-[72px] flex items-center justify-between px-4 md:px-6 bg-white border-b border-gray-200"},j={class:"flex items-center gap-3"},B=c({__name:"AdminNavbar",emits:["toggleSidebar"],setup(p){const t=_(),n=async()=>{try{const{error:e}=await t.auth.signOut();if(e)throw e;await x.fire({icon:"success",title:"ออกจากระบบแล้ว",timer:1500,showConfirmButton:!1}),window.location.replace("/admin/login")}catch(e){console.error("Logout error:",e),x.fire("Error","ไม่สามารถออกจากระบบได้","error")}};return(e,s)=>(r(),d("header",L,[o("div",j,[o("button",{class:"md:hidden text-gray-700 hover:text-red-600",onClick:s[0]||(s[0]=a=>e.$emit("toggleSidebar"))},[...s[1]||(s[1]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),s[2]||(s[2]=o("img",{src:N,alt:"TopTech Logo",class:"h-6 object-contain"},null,-1))]),o("div",{class:"flex items-center gap-3 text-sm"},[s[3]||(s[3]=o("span",{class:"text-gray-700 font-medium hidden sm:block"},"Admin",-1)),o("button",{class:"border px-4 py-1.5 rounded-md hover:bg-gray-100 text-sm font-medium",onClick:n}," Logout ")])]))}}),T=Object.assign(B,{__name:"AdminNavbar"}),z={class:"w-[240px] bg-white border-r border-gray-200 flex flex-col h-full"},M={class:"flex-1 px-3 py-6 space-y-1 text-[15px] font-medium"},O={key:0,class:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-red-500 rounded-r"},E={key:0,class:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-red-500 rounded-r"},V=c({__name:"AdminSidebar",emits:["close"],setup(p){const t=h();return(n,e)=>{const s=A;return r(),d("aside",z,[o("nav",M,[l(s,{to:"/admin/add",class:f(["relative block px-4 py-2 rounded-md transition",{"text-red-600 bg-red-50":i(t).path==="/admin/add","text-gray-700 hover:bg-gray-50":i(t).path!=="/admin/add"}]),onClick:e[0]||(e[0]=a=>n.$emit("close"))},{default:u(()=>[i(t).path==="/admin/add"?(r(),d("span",O)):m("",!0),e[2]||(e[2]=g(" Add Product ",-1))]),_:1},8,["class"]),l(s,{to:"/admin/list",class:f(["relative block px-4 py-2 rounded-md transition",{"text-red-600 bg-red-50":i(t).path==="/admin/list","text-gray-700 hover:bg-gray-50":i(t).path!=="/admin/list"}]),onClick:e[1]||(e[1]=a=>n.$emit("close"))},{default:u(()=>[i(t).path==="/admin/list"?(r(),d("span",E)):m("",!0),e[3]||(e[3]=g(" Product List ",-1))]),_:1},8,["class"])])])}}}),P=Object.assign(V,{__name:"AdminSidebar"}),R={class:"min-h-screen flex flex-col bg-white"},U={class:"flex flex-1"},q={class:"flex-1 p-6 overflow-y-auto bg-white"},W=c({__name:"admin",setup(p){const t=v(!1),n=v(!1),e=()=>{n.value=window.innerWidth>=1024,n.value&&(t.value=!0)};return y(()=>{e(),window.addEventListener("resize",e)}),k(()=>window.removeEventListener("resize",e)),(s,a)=>(r(),d("div",R,[l(T,{onToggleSidebar:a[0]||(a[0]=b=>t.value=!t.value)}),o("div",U,[l(C,{name:"slide"},{default:u(()=>[t.value||n.value?(r(),$(P,{key:0,class:"fixed md:static inset-y-0 left-0 z-50 w-[240px] bg-white border-r border-gray-200",onClose:a[1]||(a[1]=b=>t.value=!1)})):m("",!0)]),_:1}),o("main",q,[S(s.$slots,"default")])]),t.value&&!n.value?(r(),d("div",{key:0,class:"fixed inset-0 bg-black/40 md:hidden",onClick:a[2]||(a[2]=b=>t.value=!1)})):m("",!0)]))}});export{W as default};
