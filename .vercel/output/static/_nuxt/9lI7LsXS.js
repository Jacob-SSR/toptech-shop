import{g as b,C as g,r as u,j as w,L as k,c as r,a as t,F as j,k as C,t as o,d as n,J as I,o as i}from"#entry";import{a as N}from"./ngrFHoWO.js";const B={key:0,class:"min-h-screen py-10 px-6"},L={class:"max-w-6xl mx-auto grid md:grid-cols-[1fr_1fr] gap-10"},S={class:"flex gap-4"},E={class:"flex flex-col gap-3"},F=["src","onClick"],R={class:"flex-1 flex items-center justify-center bg-white rounded-xl shadow-md"},V=["src"],$={class:"flex flex-col justify-between"},q={class:"space-y-4"},z={class:"text-4xl font-bold text-gray-900"},D={class:"text-red-600 font-semibold text-lg"},J={class:"text-sm text-gray-700 leading-relaxed space-y-1"},M={class:"mt-6 flex items-center gap-4"},T={class:"flex items-center border rounded-lg overflow-hidden shadow-sm bg-white"},U={class:"px-5 py-2 text-gray-800 font-semibold bg-white min-w-[40px] text-center"},A={class:"text-red-700 font-bold text-xl mt-2"},G={class:"max-w-5xl mx-auto mt-12"},H={class:"bg-white rounded-xl p-6 shadow-sm"},K={class:"text-2xl font-semibold mb-2"},O={class:"text-gray-700 whitespace-pre-line leading-relaxed"},P={key:1,class:"text-center py-10 text-gray-400"},Z=b({__name:"[id]",setup(Q){const p=I(),d=k();g(()=>p.params.brand);const m=g(()=>p.params.id),e=u(null),c=u(""),a=u(1);w(async()=>{try{const l=await N.get(`/api/products/${m.value}`);if(!l.data){d.push("/product");return}e.value=l.data.product||l.data,c.value=e.value.images?.[0]||e.value.detailImages?.[0]||"https://placehold.co/600x600?text=No+Image"}catch(l){console.error("Error loading product:",l),d.push("/product")}});const v=l=>{c.value=l},f=()=>d.back(),h=()=>{e.value&&a.value<e.value.stock&&a.value++},_=()=>{a.value>1&&a.value--};return(l,s)=>e.value?(i(),r("div",B,[t("div",L,[t("div",S,[t("div",E,[(i(!0),r(j,null,C([...e.value.images||[],...e.value.detailImages||[]],(x,y)=>(i(),r("img",{key:y,src:x,class:"w-20 h-20 object-cover rounded-md border cursor-pointer hover:ring-2 hover:ring-red-500 transition",onClick:W=>v(x)},null,8,F))),128))]),t("div",R,[t("img",{src:c.value||"https://placehold.co/600x600?text=No+Image",alt:"product",class:"w-full max-h-[600px] object-contain rounded-xl"},null,8,V)])]),t("div",$,[t("div",q,[t("h1",z,o(e.value.name),1),t("p",D," ราคาเริ่มต้นเพียง ฿"+o(e.value.priceNew?.toLocaleString()||"0.00"),1),t("div",J,[t("p",null,[s[0]||(s[0]=t("strong",null,"สี:",-1)),n(" "+o(e.value.colors?.join(", ")||"-"),1)]),t("p",null,[s[1]||(s[1]=t("strong",null,"ความจุ:",-1)),n(" "+o(e.value.capacity?.join(", ")||"-"),1)]),t("p",null,[s[2]||(s[2]=t("strong",null,"ประเภท:",-1)),n(" "+o(e.value.condition==="new"?"มือ1":"มือ2"),1)]),t("p",null,[s[3]||(s[3]=t("strong",null,"แบรนด์:",-1)),n(" "+o(e.value.brand),1)]),t("p",null,[s[4]||(s[4]=t("strong",null,"คงเหลือในสต็อก:",-1)),n(" "+o(e.value.stock)+" ชิ้น",1)])]),t("div",M,[s[5]||(s[5]=t("p",{class:"font-semibold text-gray-700"},"จำนวน",-1)),t("div",T,[t("button",{onClick:_,class:"px-3 py-2 text-gray-700 hover:bg-gray-200 transition"}," - "),t("span",U,o(a.value),1),t("button",{onClick:h,class:"px-3 py-2 text-gray-700 hover:bg-gray-200 transition"}," + ")])]),t("p",A," ฿"+o(((e.value.priceUsed||e.value.priceNew||0)*a.value).toLocaleString()),1)]),t("div",{class:"flex flex-col gap-3 mt-8"},[s[6]||(s[6]=t("a",{href:"https://www.toptechplaza.com/register",target:"_blank",class:"w-full text-center bg-red-600 hover:bg-red-700 text-white font-medium py-3 rounded-lg transition"}," ลงทะเบียน ",-1)),t("button",{onClick:f,class:"w-full text-center bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium py-3 rounded-lg transition"}," ← กลับหน้าก่อนหน้า ")])])]),t("div",G,[s[7]||(s[7]=t("h2",{class:"text-xl font-bold text-red-800 mb-3"},"รายละเอียดสินค้า",-1)),t("div",H,[t("h3",K,o(e.value.name),1),t("div",O,o(e.value.description||"ไม่มีรายละเอียดเพิ่มเติม"),1)])])])):(i(),r("div",P," กำลังโหลดข้อมูลสินค้า... "))}});export{Z as default};
